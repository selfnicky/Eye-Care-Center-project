# Save this as kubernetes/frontend-ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: frontend-ingress
  annotations:
    kubernetes.io/ingress.class: nginx
    # If your backend uses specific rewrites or other ingress features, they'd go here
spec:
  rules:
  - http:
      paths:
      - path: /api # New: Route API calls to the backend
        pathType: Prefix
        backend:
          service:
            name: backend-service # Direct to your backend Kubernetes Service
            port:
              number: 3000 # The port your backend-service listens on
      - path: / # Existing: Route general traffic to the frontend
        pathType: Prefix
        backend:
          service:
            name: frontend-service
            port:
              number: 80
